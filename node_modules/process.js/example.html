<!DOCTYPE html>
<html>
<head>
<title></title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="text/javascript" src="./q.js"></script>
<script type="text/javascript" src="./process.js"></script>
<script>
//Create your queue
var process = Q.process();

//Define task1
var task1 = function() {
    var deferred = Q.defer();

    setTimeout(function(){
        deferred.resolve();
        console.log('task 1 completed!');
    }, 1000);

    return deferred.promise;
};

//Define task2
var task2 = function() {
    var deferred = Q.defer();

    setTimeout(function(){
        deferred.resolve();
        console.log('task 2 completed!');
    }, 2000);

    return deferred.promise;
};

//Define task3
var task3 = function() {
    var deferred = Q.defer();

    setTimeout(function(){
        deferred.resolve();
        console.log('task 3 completed!');
    }, 3000);

    return deferred.promise;
};

//Define task4
var task4 = function() {
    var deferred = Q.defer();

    setTimeout(function(){
        deferred.resolve();
        console.log('task 4 completed!');
    }, 4000);

    return deferred.promise;
};

//Set quantity of threads
process.setThreadsQuantity(2);

//Push tasks(array of functions, returning promises)
process.push([task1,task2,task3,task4]);
        
</script>
</head>
<body>

</body>
</html>
